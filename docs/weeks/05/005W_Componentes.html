<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 5: Componentes Razor y Ciclo de Vida | Blazor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #512da8 0%, #673ab7 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .week-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 20px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #673ab7;
        }

        .section h2 {
            color: #512da8;
            margin-bottom: 20px;
            font-size: 2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.2em;
        }

        .day-container {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .day-header {
            background: linear-gradient(135deg, #7c4dff 0%, #9575cd 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.3em;
            font-weight: bold;
        }

        .topic-list {
            list-style: none;
            padding-left: 0;
        }

        .topic-list li {
            padding: 12px 15px;
            margin: 10px 0;
            background: #e1bee7;
            border-radius: 8px;
            position: relative;
            padding-left: 45px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .topic-list li:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .topic-list li:before {
            content: "üìå";
            position: absolute;
            left: 15px;
            font-size: 1.2em;
        }

        .code-example {
            background: linear-gradient(180deg, #1f1f23 0%, #26262b 100%);
            color: #f8f8f2;
            padding: 18px 20px;
            border-radius: 0 0 10px 10px;
            margin: 0 0 20px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95em;
            line-height: 1.5;
            white-space: pre;
            tab-size: 4;
            border: 1px solid #3a3a42;
            border-top: none;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            scrollbar-width: thin;
            scrollbar-color: #7c4dff #1f1f23;
        }

        .code-example::-webkit-scrollbar {
            height: 10px;
        }

        .code-example::-webkit-scrollbar-track {
            background: #1f1f23;
            border-radius: 8px;
        }

        .code-example::-webkit-scrollbar-thumb {
            background: #7c4dff;
            border-radius: 8px;
        }

        .code-example::-webkit-scrollbar-thumb:hover {
            background: #9575cd;
        }

        .code-example code {
            color: #a6e22e;
        }

        .code-example .keyword {
            color: #f92672;
        }

        .code-example .string {
            color: #e6db74;
        }

        .code-example .comment {
            color: #75715e;
            font-style: italic;
        }

        .code-example .attribute {
            color: #66d9ef;
        }

        .code-title {
            background: linear-gradient(135deg, #101013 0%, #1f1f24 100%);
            color: #f1f1f3;
            padding: 10px 20px;
            border-radius: 10px 10px 0 0;
            margin-bottom: 0;
            margin-top: 20px;
            font-weight: bold;
            font-size: 0.9em;
            border: 1px solid #3a3a42;
            border-bottom: none;
            letter-spacing: 0.2px;
        }

        .highlight-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .highlight-box strong {
            color: #856404;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .info-box strong {
            color: #0c5460;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .task-box {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .task-box h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .task-box p {
            font-size: 1.2em;
            line-height: 1.8;
        }

        .requirements-list {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .requirements-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .requirements-list li:last-child {
            border-bottom: none;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-top: 4px solid #673ab7;
        }

        .card h4 {
            color: #512da8;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .lifecycle-diagram {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .lifecycle-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-weight: bold;
            position: relative;
        }

        .lifecycle-step:not(:last-child):after {
            content: "‚¨áÔ∏è";
            display: block;
            margin-top: 10px;
            font-size: 1.5em;
        }

        .footer {
            background: #512da8;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: background 0.3s;
        }

        .footer-links a:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }

            .code-title {
                padding: 9px 14px;
                font-size: 0.85em;
            }

            .code-example {
                padding: 14px;
                font-size: 0.88em;
            }
        }

        .component-anatomy {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .component-part {
            margin: 15px 0;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
            border-left: 4px solid #673ab7;
        }

        .component-part h5 {
            color: #512da8;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="week-badge">SEMANA 5</div>
            <h1>‚öôÔ∏è Componentes Razor y Ciclo de Vida</h1>
            <p>Creando componentes reutilizables y entendiendo su funcionamiento interno</p>
        </div>

        <!-- Content -->
        <div class="content">
            <!-- Teor√≠a Lunes -->
            <div class="section">
                <h2><span class="section-icon">üìö</span> Teor√≠a - Lunes</h2>
                
                <div class="day-container">
                    <div class="day-header">üß© Anatom√≠a de un Componente Razor</div>
                    
                    <div class="component-anatomy">
                        <h4>Un componente Razor est√° compuesto por:</h4>
                        
                        <div class="component-part">
                            <h5>1. Directivas y Usings</h5>
                            <p>Declaraciones de namespaces y configuraci√≥n del componente</p>
                        </div>

                        <div class="component-part">
                            <h5>2. Markup HTML/Razor</h5>
                            <p>La interfaz visual del componente</p>
                        </div>

                        <div class="component-part">
                            <h5>3. Bloque @code</h5>
                            <p>L√≥gica C#, propiedades, m√©todos y eventos</p>
                        </div>
                    </div>

                    <div class="code-title">üìÑ MiComponente.razor - Estructura b√°sica</div>
                    <div class="code-example">
<span class="comment">@* 1. Directivas *@</span>
@page <span class="string">"/ejemplo"</span>
@using MiProyecto.Models

<span class="comment">@* 2. Markup HTML/Razor *@</span>
&lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"componente"</span>&gt;
    &lt;<span class="keyword">h3</span>&gt;@Titulo&lt;/<span class="keyword">h3</span>&gt;
    &lt;<span class="keyword">p</span>&gt;@Descripcion&lt;/<span class="keyword">p</span>&gt;
    &lt;<span class="keyword">button</span> @<span class="attribute">onclick</span>=<span class="string">"HandleClick"</span>&gt;Hacer Clic&lt;/<span class="keyword">button</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

<span class="comment">@* 3. Bloque @code *@</span>
@code {
    <span class="keyword">private</span> <span class="keyword">string</span> Titulo = <span class="string">"Mi Componente"</span>;
    <span class="keyword">private</span> <span class="keyword">string</span> Descripcion = <span class="string">"Descripci√≥n del componente"</span>;

    <span class="keyword">private</span> <span class="keyword">void</span> <code>HandleClick</code>()
    {
        <span class="comment">// L√≥gica del evento</span>
        Descripcion = <span class="string">"¬°Bot√≥n clickeado!"</span>;
    }
}
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">üéØ Par√°metros [Parameter]</div>
                    
                    <div class="info-box">
                        <strong>üí° ¬øQu√© son los Par√°metros?</strong>
                        Los par√°metros permiten pasar datos desde un componente padre a un componente hijo, haciendo los componentes reutilizables y configurables.
                    </div>

                    <div class="code-title">üìÑ BotonPersonalizado.razor</div>
                    <div class="code-example">
&lt;<span class="keyword">button</span> <span class="attribute">class</span>=<span class="string">"btn btn-@Color"</span> @<span class="attribute">onclick</span>=<span class="string">"OnClick"</span>&gt;
    @Texto
&lt;/<span class="keyword">button</span>&gt;

@code {
    <span class="comment">// Par√°metro de tipo string</span>
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Texto { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"Bot√≥n"</span>;

    <span class="comment">// Par√°metro con valor por defecto</span>
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Color { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"primary"</span>;

    <span class="comment">// Par√°metro booleano</span>
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Deshabilitado { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">false</span>;

    <span class="comment">// Par√°metro de evento (callback)</span>
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> EventCallback OnClick { <span class="keyword">get</span>; <span class="keyword">set</span>; }
}
                    </div>

                    <div class="code-title">üìÑ Padre.razor - Usando el componente con par√°metros</div>
                    <div class="code-example">
&lt;<span class="keyword">BotonPersonalizado</span> 
    <span class="attribute">Texto</span>=<span class="string">"Guardar"</span> 
    <span class="attribute">Color</span>=<span class="string">"success"</span> 
    <span class="attribute">OnClick</span>=<span class="string">"GuardarDatos"</span> /&gt;

&lt;<span class="keyword">BotonPersonalizado</span> 
    <span class="attribute">Texto</span>=<span class="string">"Eliminar"</span> 
    <span class="attribute">Color</span>=<span class="string">"danger"</span> 
    <span class="attribute">OnClick</span>=<span class="string">"EliminarDatos"</span> /&gt;

@code {
    <span class="keyword">private</span> <span class="keyword">void</span> <code>GuardarDatos</code>()
    {
        <span class="comment">// L√≥gica para guardar</span>
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <code>EliminarDatos</code>()
    {
        <span class="comment">// L√≥gica para eliminar</span>
    }
}
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">üîÑ EventCallback - Comunicaci√≥n entre Componentes</div>
                    
                    <div class="highlight-box">
                        <strong>‚ö†Ô∏è Importante:</strong>
                        EventCallback permite que los componentes hijos se comuniquen con sus padres, enviando notificaciones cuando ocurren eventos.
                    </div>

                    <div class="code-title">üìÑ ContadorHijo.razor</div>
                    <div class="code-example">
&lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"contador-hijo"</span>&gt;
    &lt;<span class="keyword">h4</span>&gt;Contador: @Valor&lt;/<span class="keyword">h4</span>&gt;
    &lt;<span class="keyword">button</span> @<span class="attribute">onclick</span>=<span class="string">"Incrementar"</span>&gt;+&lt;/<span class="keyword">button</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

@code {
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">int</span> Valor { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    <span class="comment">// EventCallback sin par√°metros</span>
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> EventCallback OnValorCambiado { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    <span class="comment">// EventCallback con par√°metro de tipo int</span>
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> EventCallback&lt;<span class="keyword">int</span>&gt; OnValorActualizado { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    <span class="keyword">private</span> <span class="keyword">async</span> Task <code>Incrementar</code>()
    {
        Valor++;
        
        <span class="comment">// Invocar ambos callbacks</span>
        <span class="keyword">await</span> OnValorCambiado.InvokeAsync();
        <span class="keyword">await</span> OnValorActualizado.InvokeAsync(Valor);
    }
}
                    </div>

                    <div class="code-title">üìÑ ComponentePadre.razor</div>
                    <div class="code-example">
&lt;<span class="keyword">div</span>&gt;
    &lt;<span class="keyword">h3</span>&gt;Valor total: @total&lt;/<span class="keyword">h3</span>&gt;
    
    &lt;<span class="keyword">ContadorHijo</span> 
        <span class="attribute">Valor</span>=<span class="string">"@contador"</span>
        <span class="attribute">OnValorCambiado</span>=<span class="string">"HandleCambio"</span>
        <span class="attribute">OnValorActualizado</span>=<span class="string">"HandleActualizacion"</span> /&gt;
&lt;/<span class="keyword">div</span>&gt;

@code {
    <span class="keyword">private</span> <span class="keyword">int</span> contador = 0;
    <span class="keyword">private</span> <span class="keyword">int</span> total = 0;

    <span class="keyword">private</span> <span class="keyword">void</span> <code>HandleCambio</code>()
    {
        Console.WriteLine(<span class="string">"El valor ha cambiado"</span>);
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <code>HandleActualizacion</code>(<span class="keyword">int</span> nuevoValor)
    {
        contador = nuevoValor;
        total += nuevoValor;
    }
}
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">üîÑ Ciclo de Vida de un Componente</div>
                    
                    <div class="lifecycle-diagram">
                        <h4 style="color: #512da8; margin-bottom: 20px;">M√©todos del Ciclo de Vida</h4>
                        
                        <div class="lifecycle-step">
                            1Ô∏è‚É£ SetParametersAsync() - Recibe par√°metros
                        </div>
                        <div class="lifecycle-step">
                            2Ô∏è‚É£ OnInitialized() / OnInitializedAsync() - Inicializaci√≥n
                        </div>
                        <div class="lifecycle-step">
                            3Ô∏è‚É£ OnParametersSet() / OnParametersSetAsync() - Par√°metros configurados
                        </div>
                        <div class="lifecycle-step">
                            4Ô∏è‚É£ Renderizado - Se genera el HTML
                        </div>
                        <div class="lifecycle-step">
                            5Ô∏è‚É£ OnAfterRender() / OnAfterRenderAsync() - Despu√©s del renderizado
                        </div>
                        <div class="lifecycle-step" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);">
                            ‚ôªÔ∏è Dispose() - Limpieza de recursos
                        </div>
                    </div>

                    <div class="code-title">üìÑ ComponenteCompleto.razor - Ejemplo con todos los m√©todos</div>
                    <div class="code-example">
@implements IDisposable

&lt;<span class="keyword">div</span>&gt;
    &lt;<span class="keyword">h3</span>&gt;@mensaje&lt;/<span class="keyword">h3</span>&gt;
    &lt;<span class="keyword">p</span>&gt;Renderizado: @contadorRenderizado veces&lt;/<span class="keyword">p</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

@code {
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Titulo { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    <span class="keyword">private</span> <span class="keyword">string</span> mensaje = <span class="string">""</span>;
    <span class="keyword">private</span> <span class="keyword">int</span> contadorRenderizado = 0;

    <span class="comment">// 1. Se ejecuta primero - Recibe par√°metros</span>
    <span class="keyword">public</span> <span class="keyword">override</span> Task <code>SetParametersAsync</code>(ParameterView parameters)
    {
        Console.WriteLine(<span class="string">"1. SetParametersAsync"</span>);
        <span class="keyword">return</span> <span class="keyword">base</span>.SetParametersAsync(parameters);
    }

    <span class="comment">// 2. Inicializaci√≥n - Solo se ejecuta UNA vez</span>
    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <code>OnInitialized</code>()
    {
        Console.WriteLine(<span class="string">"2. OnInitialized"</span>);
        mensaje = <span class="string">"Componente inicializado"</span>;
    }

    <span class="comment">// Versi√≥n as√≠ncrona para operaciones async (cargar datos, APIs)</span>
    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">async</span> Task <code>OnInitializedAsync</code>()
    {
        Console.WriteLine(<span class="string">"2b. OnInitializedAsync"</span>);
        <span class="keyword">await</span> Task.Delay(1000); <span class="comment">// Simular carga de datos</span>
    }

    <span class="comment">// 3. Se ejecuta cada vez que cambian los par√°metros</span>
    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <code>OnParametersSet</code>()
    {
        Console.WriteLine(<span class="string">"3. OnParametersSet"</span>);
        mensaje = $<span class="string">"T√≠tulo: {Titulo}"</span>;
    }

    <span class="comment">// 4. Despu√©s de cada renderizado</span>
    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <code>OnAfterRender</code>(<span class="keyword">bool</span> firstRender)
    {
        contadorRenderizado++;
        
        <span class="keyword">if</span> (firstRender)
        {
            Console.WriteLine(<span class="string">"4. OnAfterRender - PRIMER RENDERIZADO"</span>);
            <span class="comment">// Ideal para JavaScript Interop</span>
        }
        <span class="keyword">else</span>
        {
            Console.WriteLine(<span class="string">"4. OnAfterRender - Renderizado subsecuente"</span>);
        }
    }

    <span class="comment">// 5. Limpieza cuando el componente se destruye</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <code>Dispose</code>()
    {
        Console.WriteLine(<span class="string">"5. Dispose - Limpiando recursos"</span>);
        <span class="comment">// Cancelar suscripciones, timers, etc.</span>
    }
}
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">üíæ State Management B√°sico</div>
                    
                    <div class="info-box">
                        <strong>üí° ¬øQu√© es State Management?</strong>
                        Es la gesti√≥n del estado (datos) de la aplicaci√≥n. En Blazor, el estado puede ser local (en el componente) o compartido (entre m√∫ltiples componentes).
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <h4>üìå Estado Local</h4>
                            <p>Variables y propiedades dentro del componente</p>
                            <ul style="margin-top: 10px; padding-left: 20px;">
                                <li>Simple y directo</li>
                                <li>Solo accesible en el componente</li>
                                <li>Se pierde al destruir el componente</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h4>üåê Estado Compartido</h4>
                            <p>Servicios inyectados para compartir datos</p>
                            <ul style="margin-top: 10px; padding-left: 20px;">
                                <li>Accesible desde cualquier componente</li>
                                <li>Persiste entre componentes</li>
                                <li>Requiere Dependency Injection</li>
                            </ul>
                        </div>
                    </div>

                    <div class="code-title">üìÑ EstadoService.cs - Servicio para Estado Compartido</div>
                    <div class="code-example">
<span class="keyword">public</span> <span class="keyword">class</span> <code>EstadoService</code>
{
    <span class="comment">// Propiedades del estado</span>
    <span class="keyword">public</span> <span class="keyword">string</span> UsuarioActual { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">""</span>;
    <span class="keyword">public</span> <span class="keyword">int</span> ContadorGlobal { <span class="keyword">get</span>; <span class="keyword">set</span>; } = 0;

    <span class="comment">// Evento para notificar cambios</span>
    <span class="keyword">public</span> <span class="keyword">event</span> Action OnChange;

    <span class="keyword">public</span> <span class="keyword">void</span> <code>ActualizarUsuario</code>(<span class="keyword">string</span> usuario)
    {
        UsuarioActual = usuario;
        NotificarCambio();
    }

    <span class="keyword">public</span> <span class="keyword">void</span> <code>IncrementarContador</code>()
    {
        ContadorGlobal++;
        NotificarCambio();
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <code>NotificarCambio</code>() 
    {
        OnChange?.Invoke();
    }
}
                    </div>

                    <div class="code-title">üìÑ Program.cs - Registrar el servicio</div>
                    <div class="code-example">
builder.Services.AddScoped&lt;EstadoService&gt;();
                    </div>

                    <div class="code-title">üìÑ ComponenteConEstado.razor - Usando el servicio</div>
                    <div class="code-example">
@inject EstadoService Estado
@implements IDisposable

&lt;<span class="keyword">div</span>&gt;
    &lt;<span class="keyword">h3</span>&gt;Usuario: @Estado.UsuarioActual&lt;/<span class="keyword">h3</span>&gt;
    &lt;<span class="keyword">p</span>&gt;Contador Global: @Estado.ContadorGlobal&lt;/<span class="keyword">p</span>&gt;
    
    &lt;<span class="keyword">button</span> @<span class="attribute">onclick</span>=<span class="string">"Incrementar"</span>&gt;Incrementar&lt;/<span class="keyword">button</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

@code {
    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <code>OnInitialized</code>()
    {
        <span class="comment">// Suscribirse a cambios</span>
        Estado.OnChange += StateHasChanged;
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <code>Incrementar</code>()
    {
        Estado.IncrementarContador();
    }

    <span class="keyword">public</span> <span class="keyword">void</span> <code>Dispose</code>()
    {
        <span class="comment">// Desuscribirse para evitar memory leaks</span>
        Estado.OnChange -= StateHasChanged;
    }
}
                    </div>
                </div>
            </div>

            <!-- Laboratorio -->
            <div class="section">
                <h2><span class="section-icon">üî¨</span> Laboratorio - Martes/Mi√©rcoles</h2>
                
                <div class="day-container">
                    <div class="day-header">üé® Componente: Bot√≥n Reutilizable</div>
                    
                    <div class="code-title">üìÑ BotonComponent.razor</div>
                    <div class="code-example">
&lt;<span class="keyword">button</span> 
    <span class="attribute">class</span>=<span class="string">"btn btn-@Variant @(Outline ? "</span>btn-outline-<span class="string">" + Variant : ""</span>) @CssClass<span class="string">"</span>
    <span class="attribute">type</span>=<span class="string">"@Tipo"</span>
    <span class="attribute">disabled</span>=<span class="string">"@Deshabilitado"</span>
    @<span class="attribute">onclick</span>=<span class="string">"OnClick"</span>&gt;
    
    @<span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(Icono))
    {
        &lt;<span class="keyword">i</span> <span class="attribute">class</span>=<span class="string">"@Icono"</span>&gt;&lt;/<span class="keyword">i</span>&gt;
    }
    @Texto
&lt;/<span class="keyword">button</span>&gt;

@code {
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Texto { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"Bot√≥n"</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Variant { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"primary"</span>; <span class="comment">// primary, success, danger, etc.</span>

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Outline { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">false</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Tipo { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"button"</span>; <span class="comment">// button, submit, reset</span>

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Deshabilitado { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">false</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Icono { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">""</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> CssClass { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">""</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> EventCallback OnClick { <span class="keyword">get</span>; <span class="keyword">set</span>; }
}
                    </div>

                    <div class="code-title">üìÑ Uso del componente</div>
                    <div class="code-example">
&lt;<span class="keyword">BotonComponent</span> <span class="attribute">Texto</span>=<span class="string">"Guardar"</span> <span class="attribute">Variant</span>=<span class="string">"success"</span> <span class="attribute">Icono</span>=<span class="string">"fas fa-save"</span> <span class="attribute">OnClick</span>=<span class="string">"Guardar"</span> /&gt;
&lt;<span class="keyword">BotonComponent</span> <span class="attribute">Texto</span>=<span class="string">"Cancelar"</span> <span class="attribute">Variant</span>=<span class="string">"danger"</span> <span class="attribute">Outline</span>=<span class="string">"true"</span> /&gt;
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">üìä Componente: Tabla Reutilizable</div>
                    
                    <div class="code-title">üìÑ TablaComponent.razor</div>
                    <div class="code-example">
@typeparam TItem

&lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"table-responsive"</span>&gt;
    &lt;<span class="keyword">table</span> <span class="attribute">class</span>=<span class="string">"table table-@Variant @(Striped ? "</span>table-striped<span class="string">" : ""</span>) @(Hover ? <span class="string">"table-hover"</span> : <span class="string">""</span>)<span class="string">"</span>&gt;
        &lt;<span class="keyword">thead</span>&gt;
            &lt;<span class="keyword">tr</span>&gt;
                @HeaderTemplate
            &lt;/<span class="keyword">tr</span>&gt;
        &lt;/<span class="keyword">thead</span>&gt;
        &lt;<span class="keyword">tbody</span>&gt;
            @<span class="keyword">if</span> (Items != <span class="keyword">null</span> && Items.Any())
            {
                @<span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> Items)
                {
                    &lt;<span class="keyword">tr</span>&gt;
                        @RowTemplate(item)
                    &lt;/<span class="keyword">tr</span>&gt;
                }
            }
            <span class="keyword">else</span>
            {
                &lt;<span class="keyword">tr</span>&gt;
                    &lt;<span class="keyword">td</span> <span class="attribute">colspan</span>=<span class="string">"100"</span> <span class="attribute">class</span>=<span class="string">"text-center"</span>&gt;
                        @MensajeSinDatos
                    &lt;/<span class="keyword">td</span>&gt;
                &lt;/<span class="keyword">tr</span>&gt;
            }
        &lt;/<span class="keyword">tbody</span>&gt;
    &lt;/<span class="keyword">table</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

@code {
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> IEnumerable&lt;TItem&gt; Items { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> RenderFragment HeaderTemplate { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> RenderFragment&lt;TItem&gt; RowTemplate { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Variant { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">""</span>; <span class="comment">// dark, striped, bordered</span>

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Striped { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Hover { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> MensajeSinDatos { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"No hay datos disponibles"</span>;
}
                    </div>

                    <div class="code-title">üìÑ Uso del componente tabla</div>
                    <div class="code-example">
&lt;<span class="keyword">TablaComponent</span> <span class="attribute">Items</span>=<span class="string">"@personas"</span> <span class="attribute">TItem</span>=<span class="string">"Persona"</span>&gt;
    &lt;<span class="keyword">HeaderTemplate</span>&gt;
        &lt;<span class="keyword">th</span>&gt;ID&lt;/<span class="keyword">th</span>&gt;
        &lt;<span class="keyword">th</span>&gt;Nombre&lt;/<span class="keyword">th</span>&gt;
        &lt;<span class="keyword">th</span>&gt;Email&lt;/<span class="keyword">th</span>&gt;
        &lt;<span class="keyword">th</span>&gt;Acciones&lt;/<span class="keyword">th</span>&gt;
    &lt;/<span class="keyword">HeaderTemplate</span>&gt;
    
    &lt;<span class="keyword">RowTemplate</span>&gt;
        &lt;<span class="keyword">td</span>&gt;@context.Id&lt;/<span class="keyword">td</span>&gt;
        &lt;<span class="keyword">td</span>&gt;@context.Nombre&lt;/<span class="keyword">td</span>&gt;
        &lt;<span class="keyword">td</span>&gt;@context.Email&lt;/<span class="keyword">td</span>&gt;
        &lt;<span class="keyword">td</span>&gt;
            &lt;<span class="keyword">button</span> @<span class="attribute">onclick</span>=<span class="string">"() => Editar(context)"</span>&gt;Editar&lt;/<span class="keyword">button</span>&gt;
        &lt;/<span class="keyword">td</span>&gt;
    &lt;/<span class="keyword">RowTemplate</span>&gt;
&lt;/<span class="keyword">TablaComponent</span>&gt;

@code {
    <span class="keyword">private</span> List&lt;Persona&gt; personas = <span class="keyword">new</span> List&lt;Persona&gt;
    {
        <span class="keyword">new</span> Persona { Id = 1, Nombre = <span class="string">"Juan"</span>, Email = <span class="string">"juan@email.com"</span> },
        <span class="keyword">new</span> Persona { Id = 2, Nombre = <span class="string">"Mar√≠a"</span>, Email = <span class="string">"maria@email.com"</span> }
    };

    <span class="keyword">private</span> <span class="keyword">void</span> <code>Editar</code>(Persona persona)
    {
        <span class="comment">// L√≥gica de edici√≥n</span>
    }
}
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">‚ö†Ô∏è Componente: Alerta Reutilizable</div>
                    
                    <div class="code-title">üìÑ AlertaComponent.razor</div>
                    <div class="code-example">
@<span class="keyword">if</span> (Visible)
{
    &lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"alert alert-@Tipo @(Dismissible ? "</span>alert-dismissible fade show<span class="string">" : ""</span>)<span class="string">" role="</span>alert<span class="string">"</span>&gt;
        @<span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(Icono))
        {
            &lt;<span class="keyword">i</span> <span class="attribute">class</span>=<span class="string">"@Icono me-2"</span>&gt;&lt;/<span class="keyword">i</span>&gt;
        }
        
        @<span class="keyword">if</span> (ChildContent != <span class="keyword">null</span>)
        {
            @ChildContent
        }
        <span class="keyword">else</span>
        {
            @Mensaje
        }
        
        @<span class="keyword">if</span> (Dismissible)
        {
            &lt;<span class="keyword">button</span> <span class="attribute">type</span>=<span class="string">"button"</span> <span class="attribute">class</span>=<span class="string">"btn-close"</span> @<span class="attribute">onclick</span>=<span class="string">"Cerrar"</span>&gt;&lt;/<span class="keyword">button</span>&gt;
        }
    &lt;/<span class="keyword">div</span>&gt;
}

@code {
    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Tipo { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">"info"</span>; <span class="comment">// success, danger, warning, info</span>

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Mensaje { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">""</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">string</span> Icono { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">""</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Dismissible { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> <span class="keyword">bool</span> Visible { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> RenderFragment ChildContent { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="attribute">Parameter</span>]
    <span class="keyword">public</span> EventCallback OnCerrar { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    <span class="keyword">private</span> <span class="keyword">async</span> Task <code>Cerrar</code>()
    {
        Visible = <span class="keyword">false</span>;
        <span class="keyword">await</span> OnCerrar.InvokeAsync();
    }
}
                    </div>

                    <div class="code-title">üìÑ Uso del componente alerta</div>
                    <div class="code-example">
<span class="comment">@* Alerta simple *@</span>
&lt;<span class="keyword">AlertaComponent</span> <span class="attribute">Tipo</span>=<span class="string">"success"</span> <span class="attribute">Mensaje</span>=<span class="string">"¬°Operaci√≥n exitosa!"</span> <span class="attribute">Icono</span>=<span class="string">"fas fa-check-circle"</span> /&gt;

<span class="comment">@* Alerta con contenido personalizado *@</span>
&lt;<span class="keyword">AlertaComponent</span> <span class="attribute">Tipo</span>=<span class="string">"warning"</span>&gt;
    &lt;<span class="keyword">strong</span>&gt;¬°Atenci√≥n!&lt;/<span class="keyword">strong</span>&gt; Esto es una advertencia importante.
&lt;/<span class="keyword">AlertaComponent</span>&gt;

<span class="comment">@* Alerta no dismissible *@</span>
&lt;<span class="keyword">AlertaComponent</span> <span class="attribute">Tipo</span>=<span class="string">"danger"</span> <span class="attribute">Mensaje</span>=<span class="string">"Error cr√≠tico"</span> <span class="attribute">Dismissible</span>=<span class="string">"false"</span> /&gt;
                    </div>
                </div>

                <div class="day-container">
                    <div class="day-header">üìê Uso de Layouts</div>
                    
                    <div class="info-box">
                        <strong>üí° ¬øQu√© son los Layouts?</strong>
                        Los layouts son plantillas que definen la estructura com√∫n de m√∫ltiples p√°ginas (header, footer, navegaci√≥n, etc.).
                    </div>

                    <div class="code-title">üìÑ MainLayout.razor</div>
                    <div class="code-example">
@inherits LayoutComponentBase

&lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"page"</span>&gt;
    &lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"sidebar"</span>&gt;
        &lt;<span class="keyword">NavMenu</span> /&gt;
    &lt;/<span class="keyword">div</span>&gt;

    &lt;<span class="keyword">main</span>&gt;
        &lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"top-row px-4"</span>&gt;
            &lt;<span class="keyword">h2</span>&gt;Mi Aplicaci√≥n Blazor&lt;/<span class="keyword">h2</span>&gt;
        &lt;/<span class="keyword">div</span>&gt;

        &lt;<span class="keyword">article</span> <span class="attribute">class</span>=<span class="string">"content px-4"</span>&gt;
            <span class="comment">@* Aqu√≠ se renderiza el contenido de cada p√°gina *@</span>
            @Body
        &lt;/<span class="keyword">article</span>&gt;
    &lt;/<span class="keyword">main</span>&gt;
&lt;/<span class="keyword">div</span>&gt;
                    </div>

                    <div class="code-title">üìÑ AdminLayout.razor - Layout personalizado</div>
                    <div class="code-example">
@inherits LayoutComponentBase

&lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"admin-layout"</span>&gt;
    &lt;<span class="keyword">header</span> <span class="attribute">class</span>=<span class="string">"admin-header"</span>&gt;
        &lt;<span class="keyword">h1</span>&gt;Panel de Administraci√≥n&lt;/<span class="keyword">h1</span>&gt;
        &lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"user-info"</span>&gt;
            @UsuarioActual
        &lt;/<span class="keyword">div</span>&gt;
    &lt;/<span class="keyword">header</span>&gt;

    &lt;<span class="keyword">div</span> <span class="attribute">class</span>=<span class="string">"admin-content"</span>&gt;
        @Body
    &lt;/<span class="keyword">div</span>&gt;

    &lt;<span class="keyword">footer</span> <span class="attribute">class</span>=<span class="string">"admin-footer"</span>&gt;
        ¬© 2026 Mi Empresa
    &lt;/<span class="keyword">footer</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

@code {
    <span class="keyword">private</span> <span class="keyword">string</span> UsuarioActual = <span class="string">"Admin"</span>;
}
                    </div>

                    <div class="code-title">üìÑ Usar un layout espec√≠fico en una p√°gina</div>
                    <div class="code-example">
@page <span class="string">"/admin/dashboard"</span>
@layout AdminLayout

&lt;<span class="keyword">h3</span>&gt;Dashboard de Administraci√≥n&lt;/<span class="keyword">h3</span>&gt;

<span class="comment">@* Esta p√°gina usar√° AdminLayout en vez del layout por defecto *@</span>
                    </div>
                </div>
            </div>

            <!-- Tarea -->
            <div class="task-box">
                <h3>üìù Tarea de la Semana</h3>
                <p><strong>Crear un Componente "Card" Gen√©rico para Mostrar Datos</strong></p>
                
                <div class="requirements-list">
                    <h4 style="margin-bottom: 15px;">Requisitos del Componente:</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚úÖ Debe aceptar par√°metros: T√≠tulo, Descripci√≥n, Imagen (opcional)</li>
                        <li>‚úÖ Debe tener un slot (ChildContent) para contenido personalizado</li>
                        <li>‚úÖ Debe permitir seleccionar diferentes variantes de color (primary, success, danger, etc.)</li>
                        <li>‚úÖ Debe incluir un par√°metro para mostrar/ocultar el footer de la card</li>
                        <li>‚úÖ Debe emitir un evento cuando se haga clic en la card (opcional)</li>
                        <li>‚úÖ Debe ser responsive y visualmente atractivo</li>
                        <li>‚úÖ Crear una p√°gina demo que use el componente con diferentes configuraciones</li>
                    </ul>
                </div>

                <div class="code-title" style="margin-top: 30px; background: rgba(255,255,255,0.2); color: white;">üìÑ Ejemplo de estructura esperada</div>
                <div class="code-example">
&lt;<span class="keyword">CardComponent</span> 
    <span class="attribute">Titulo</span>=<span class="string">"Mi Card"</span>
    <span class="attribute">Descripcion</span>=<span class="string">"Esta es una descripci√≥n"</span>
    <span class="attribute">ImagenUrl</span>=<span class="string">"imagen.jpg"</span>
    <span class="attribute">Variant</span>=<span class="string">"primary"</span>
    <span class="attribute">MostrarFooter</span>=<span class="string">"true"</span>
    <span class="attribute">OnClick</span>=<span class="string">"HandleCardClick"</span>&gt;
    
    <span class="comment">&lt;!-- Contenido personalizado --&gt;</span>
    &lt;<span class="keyword">p</span>&gt;Contenido adicional aqu√≠&lt;/<span class="keyword">p</span>&gt;
    
&lt;/<span class="keyword">CardComponent</span>&gt;
                </div>

                <p style="margin-top: 20px; font-size: 1.1em;">
                    <strong>Entrega:</strong> Subir el componente CardComponent.razor y una p√°gina de demostraci√≥n a tu repositorio antes del pr√≥ximo lunes.
                </p>
            </div>

            <!-- Recursos Adicionales -->
            <div class="section">
                <h2><span class="section-icon">üìö</span> Recursos Adicionales</h2>
                
                <div class="grid-2">
                    <div class="card">
                        <h4>üìñ Documentaci√≥n Oficial</h4>
                        <ul style="padding-left: 20px; margin-top: 10px;">
                            <li><a href="https://learn.microsoft.com/es-es/aspnet/core/blazor/components/" target="_blank">Componentes Razor</a></li>
                            <li><a href="https://learn.microsoft.com/es-es/aspnet/core/blazor/components/lifecycle" target="_blank">Ciclo de Vida</a></li>
                            <li><a href="https://learn.microsoft.com/es-es/aspnet/core/blazor/components/event-handling" target="_blank">Event Handling</a></li>
                        </ul>
                    </div>

                    <div class="card">
                        <h4>üí° Conceptos Clave</h4>
                        <ul style="padding-left: 20px; margin-top: 10px;">
                            <li>Par√°metros y binding de datos</li>
                            <li>EventCallback y comunicaci√≥n</li>
                            <li>RenderFragment para contenido din√°mico</li>
                            <li>Layouts y jerarqu√≠as de componentes</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <h3>üéØ Objetivos de Aprendizaje</h3>
            <p style="margin: 15px 0;">Al finalizar esta semana, deber√°s ser capaz de:</p>
            <ul style="list-style: none; padding: 0; margin: 20px 0;">
                <li>‚úì Crear componentes Razor reutilizables y configurables</li>
                <li>‚úì Usar par√°metros y EventCallback para comunicaci√≥n entre componentes</li>
                <li>‚úì Entender y aplicar los m√©todos del ciclo de vida</li>
                <li>‚úì Implementar State Management b√°sico con servicios</li>
                <li>‚úì Crear y aplicar layouts personalizados</li>
            </ul>
            
            <div class="footer-links">
                <a href="#teoria">üìö Teor√≠a</a>
                <a href="#laboratorio">üî¨ Laboratorio</a>
                <a href="#tarea">üìù Tarea</a>
                <a href="#recursos">üìñ Recursos</a>
            </div>
        </div>
    </div>
</body>
</html>